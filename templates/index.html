<!DOCTYPE html>
<html>
<head>
    <title>Wikipedia Page Extractor</title>
    <style>
        body { max-width: 800px; margin: 0 auto; padding: 20px; }
        form { margin: 20px 0; }
        input { margin: 5px 0; }
    </style>
</head>
<body>
    <h1>Wikipedia Page Extractor</h1>
    
    <form action="/extract" method="GET">
        <div>
            <label>Search titles:</label><br>
            <input type="text" name="search" value="{{.Query}}">
            <input type="submit" value="Search">
        </div>
    </form>

    {{if .Results}}
    <div>
        <h2>Search Results</h2>
        <table border="1" style="border-collapse: collapse; width: 100%;">
            <tr>
                <th>Title</th>
                <th>Action</th>
            </tr>
            {{range .Results}}
            <form action="/extract" method="POST">
                <tr>
                    <td>{{.Title}}</td>
                    <td>
                        <input type="hidden" name="start" value="{{.StartOffset}}">
                        <input type="hidden" name="end" value="{{add .StartOffset 100000}}">
                        <input type="hidden" name="id" value="{{.PageID}}">
                        <input type="submit" value="Extract">
                    </td>
                </tr>
            </form>
            {{end}}
        </table>
    </div>
    {{end}}

    <h2>Manual Extraction</h2>
    <form action="/extract" method="POST">
        <div>
            <label>Start Offset:</label><br>
            <input type="number" name="start" required>
        </div>
        <div>
            <label>End Offset:</label><br>
            <input type="number" name="end" required>
        </div>
        <div>
            <label>Page ID:</label><br>
            <input type="number" name="id" required>
        </div>
        <input type="submit" value="Extract">
    </form>
    {{if .Error}}
    <div style="color: red;">
        Error: {{.Error}}
    </div>
    {{end}}
    {{if .Content}}
    <div>
        {{.Content}}
    </div>
    {{end}}
</body>
</html>
